var jQuery_booroo=$.noConflict(true);(function(a){a.fn.randomize=function(b){return this.each(function(){var c=a(this);var d=c.children(b);d.sort(function(){return Math.round(Math.random())-.5});c.remove(b);for(var e=0;e<d.length;e++)c.append(d[e])})};function b(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+c*24*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"}if(typeof jsonThemeString!=="undefined"){var c=a(".poll_booroo"+surveyid+":last")}else{var c=a("div.theme_booroo:last")}var e=0,f=cookie_booroo,g=maxchecked_booroo,h=customurl_booroo,i=jsonurl_booroo;if(random_booroo==1){a("div.items_booroo",c).randomize("div.row_booroo")}if(typeof jsonThemeString==="undefined"){a(".options_booroo",c).width(a(".poll_booroo",c).width());a(".content_booroo",c).height(a(".options_booroo",c).outerHeight(true))}a("img",c).load(function(){a(".content_booroo",c).height(a(".options_booroo",c).outerHeight(true))});if(f!=0){if(document.cookie.indexOf("poll"+f)!=-1){e=1;o(0,c)}}if(enddate_booroo!=0){d=new Date;utc=d.getTime();if(utc>=enddate_booroo){e=1;o(0,c)}}var j=0;if(a("#ans-other").length){var k=a("#ans-other").val()}else if(a("#ans-radio-other").length){var k=a("#ans-radio-other").val()}a(".ans-other",c).focus(function(){if(j==0){a(this).val("");j=1}});a(".text_booroo",c).focus(function(){a(".checkbox_booroo:radio",c).attr("checked",false);if(j==0){a(this).val("");j=1}});a(".vote_booroo",c).click(function(a){n();return false});a(".viewresults",c).click(function(){m()});a(":checkbox",c).change(function(){if(l()==true){a(":checkbox:not(:checked)",c).attr("disabled",true)}else{a(":checkbox:disabled",c).attr("disabled",false)}});a("#ans-other",c).keyup(function(){if(l()==true){a(":checkbox:not(:checked)",c).attr("disabled",true)}else{a(":checkbox:disabled",c).attr("disabled",false)}});a("#ans-radio-other").keyup(function(){if(a(this).val()!=""&&a(this).val()!=k){a(".checkbox_booroo"+surveyid).prop("checked",false)}});function l(){var b=a(":checkbox:checked",c).length;if(g>=2){if(b!=g){if(a("#ans-other").length){a("#ans-other").attr("disabled",false);if(a("#ans-other").val()!=k){if(a("#ans-other").val()!=""&&b>0){return true}else{return false}}else{return false}}else{return false}}else{if(a("#ans-other").length){a("#ans-other").attr("disabled",true)}return true}}}a(".qbutton_booroo"+surveyid,c).live("click",function(a){n();return false});a(".qviewa_booroo"+surveyid,c).live("click",function(a){m();return false});a(".option_link").live("click",function(){a(this).prev().trigger("click")});function m(){e=-1;o(0,c)}function n(){var b=0,d=a('[class^="checkbox_booroo"]',c),e=d.length;for(var f=0;f<d.length;f++){if(d.eq(f).prop("checked")==true){b++}}if(b>0){if(j==0){a(".text_booroo",c).val("")}o(1,c)}else{if(d.eq(0).attr("type")=="radio"){var g=a("#ans-radio-other",c);if(g.length){if(g.val()!=k&&g.val()!=""){o(1,c)}else{alert("Please choose an answer.")}}else{alert("Please select an answer.")}}else{var h=a("#ans-other",c);if(h.length){if(h.val()!=k&&h.val()!=""){o(1,c)}else{alert("Please choose at least one answer.")}}else{alert("Please select at least one answer.")}}}}function o(c,d){a.ajax({dataType:"jsonp",url:i+"?"+a(".form_booroo",d).serialize()+"&cookie="+e+"&action="+c,success:function(e){if(typeof e!="string"){a(".options_booroo,#submit_booroo a,#submit_booroo input",d).animate({opacity:0},{duration:1e3,complete:function(){a(this).css("display","none")}});a(".results_booroo",d).fadeIn(500)}else{a(".options_booroo",d).hide();if(a(".results_booroo",d).find("#thank_you").length){a(".results_booroo",d).show();a(".content_booroo",d).height(a(".results_booroo",d).height())}}if(a("#youtube_poll_embed").length){a("#youtube_poll_embed").remove()}if(c===1&&f!==0){b("poll"+f,"1",90)}if(typeof e!="string"){var g=0,h;for(h in e){if(e[h].pc>g){g=e[h].pc}}var i=[],j=1;max_w=a(".pollpreview_booroo"+surveyid).find(".content_booroo").width();for(h in e){var k=Math.round(e[h].pc/g*60),l;if(e[h].id==999999&&typeof jsonThemeString==="undefined"){l=a(".result_booroo:last",d)}else{l=a("#res-"+e[h].id,d)}pc_text=Math.round(e[h].pc*Math.pow(10,2))/Math.pow(10,2);if(typeof e[h].total==="undefined"){pc_text+="%"}else{pc_text=e[h].total+" ("+pc_text+"%)"}l.next("span").html(pc_text);if(k==g){var m=l.outerWidth(true),n=max_w*(g/100),o=l.next("span").outerWidth(true),p=Math.round(m+n+o);if(p>max_w){var q=p-max_w,r=Math.round(n)-q;j=r/n}}i.push([l,k])}var s,t;for(var u=0;u<i.length;u++){s=i[u];if(s[1]===0){a("#"+s[0].attr("id")).remove()}else{if(j!==1){t=Math.floor(max_w*(s[1]*j/100))}else{t=Math.floor(max_w*(s[1]/100))}if(s[1]!==g){t-=s[0].outerWidth()/2}s[1]=t}if(a("#"+s[0].attr("id")).length){s[0].animate({width:s[1]+"px"},1e3,"swing")}}a(".content_booroo",d).animate({height:a(".results_booroo",d).outerHeight(true)},200,"swing")}},error:function(a,b,c){alert("An error occured")}});if(c!=0&&h!=""){a.get(h,a(".form_booroo",d).serialize())}}if(typeof jsonThemeString!=="undefined"){p()}function p(){v();a.each(jsonThemeString,function(b){var c=jsonThemeString[b];if(b!="defaultpage"&&b!="bar"&&b!="default_options"){var d=b+"_booroo"+surveyid;var e=r(b,c);a("."+d).css("cssText",e)}});var b=a(".pquestion_booroo"+surveyid).width();a("#submit_booroo",c).css({position:"relative",width:b+"px"});a(".booroo_footer",c).css({width:b+"px"});a(".padded_booroo",c).css("cssText","float:left !important; clear: both !important;width:"+b+"px !important;");var d=r("alabel",jsonThemeString.alabel);a("#thank_you").css("cssText",d);if(typeof videoURL!="undefined"){var e=G(videoURL);if(e[0]!=false){a(".pollpreview_booroo"+surveyid).find(".items_booroo").prepend('<div id="youtube_poll_embed"></div>');a("#youtube_poll_embed").append(e[0]);a("#youtube_poll_embed").find("iframe").css({width:e[1]+"px",height:e[2]+"px"})}}a(".results_booroo").css("cssText","position:absolute !important;top:0 !important; display:none !important;")}function q(){if(a.browser.msie&&parseInt(a.browser.version,10)<=9){return true}else{return false}}function r(a,b){var c="";if(s(b.bg_color_start)){var d=t(a,b);c+=d}if(s(b.border_style)){var d=B(a,b);c+=d}if(s(b.margin_t)){var d=z(a,b);c+=d}if(s(b.padding_t)){var d=y(a,b);c+=d}if(s(b.shadow_style)){var d=A(a,b);c+=d}if(s(b.font_family)){var d=C(a,b);c+=d}if(s(b.text_shadow)){var d=D(a,b);c+=d}if(a=="alabel"){c+="cursor:pointer !important;"}if(a=="qbutton"){c+="float: right !important;"}else if(a=="qviewa"){c+="position:absolute !important;bottom:0 !important;"}return c}function s(a){return typeof a!=="undefined"?true:false}function t(b,c){el=b+"_booroo"+surveyid;var d=c.bg_color_start;var e=c.bg_color_end;var f=I(d);var g=I(e);var f=f.r+","+f.g+","+f.b;var g=g.r+","+g.g+","+g.b;var h="";if(c.bg_hide==1){a("#"+b+"bg_opacity").val("100");h+="background-color: transparent !important;"+"background: none !important;"}else{if(s(c.bg_opacity)){opacity=Math.round((100-c.bg_opacity)/100*100)/100}else{opacity=1}if(!q()){h+="background-color:#"+d+" !important;"+"background: -moz-linear-gradient(top,  rgba("+f+","+opacity+"),  rgba("+g+","+opacity+")) !important;"+"background-image:-webkit-gradient(linear, left top, left bottom, from(rgba("+f+","+opacity+")), to(rgba("+g+","+opacity+"))) !important;"+"background: linear-gradient(to bottom, rgba("+f+","+opacity+") 0%, rgba("+g+","+opacity+") 100%) !important; "}else{h+="-ms-filter:progid:DXImageTransform.Microsoft.gradient(startColorStr=#"+d+",endColorStr=#"+e+") !important;";h+="filter:progid:DXImageTransform.Microsoft.gradient(startColorStr=#"+d+",endColorStr=#"+e+") !important;"}}if(b=="pollpreview"||b=="pquestion"){h+=u(b,c)}if(b=="poll"){h+="float:left !important;"}else if(b=="qbutton"){h+="cursor:pointer !important;"}return h}function u(b,c){var d="";if(s(jsonThemeString.defaultpage.bg_width)&&b=="pollpreview"){if(a.browser.msie&&parseInt(a.browser.version,10)==6){d+="width:"+jsonThemeString.defaultpage.bg_width+"px !important;"}else{d+="min-width:"+jsonThemeString.defaultpage.bg_width+"px !important;"}}else if(a.browser.msie&&parseInt(a.browser.version,10)<=7&&b=="pquestion"){d+="width:"+jsonThemeString.defaultpage.bg_width+"px !important;"}return d}function v(){a(".row_booroo",c).attr("class","answer_booroo"+surveyid);var b=a("#booroo_poll_container"+surveyid),d=b.find(".answer_booroo"+surveyid),e=jsonThemeString,f=C("alabel",e["alabel"]),g=r("bartext",e["bartext"]),h=r("barperc",e["barperc"]),i=y("alabel",e["alabel"]),j=z("alabel",e["alabel"]);if(e.bar.border_pref==0){var k=Math.round((e.bar.padding_t+e.bar.padding_b+e.bar.border_size*2+10)/3.5)}else{var k=Math.round((e.bar.padding_t+e.bar.padding_b+(e.bar.border_size_t+e.bar.border_size_b)+10)/3.5)}h+="padding:"+k+"px !important;";if(e.bar.margin_t>0){h+="margin-top:"+e.bar.margin_t+"px !important;"}var l=r("bar",e["bar"]);var m="";if(e.alabel.answer_seperator==1){m="border-width: 0 0 1px 0 !important;border-style:dotted !important;border-color: #"+e.alabel.font_color+" !important;"}for(var n=1;n<=d.length;n++){if(d.eq(n-1).parent().attr("class")!="items_booroo"){m=""}var o=d.eq(n-1);o.css("cssText","float:left !important; clear:both !important;padding:3px 0 !important;"+"width:100% !important;"+m+i+j);o.prepend(o.find("input"));o.find("input.checkbox_booroo").attr("class",d.find("input.checkbox_booroo").attr("class")+surveyid).css("cssText","margin-right: 5px !important;");o.find("label").attr("class","alabel_booroo"+surveyid)}for(var n=1;n<=d.length;n++){var p=d.eq(n-1).find("img").attr("id"),q="";if(p!="undefined"){if(a.browser.msie&&parseInt(a.browser.version,10)==7){q="position:absolute !important;"}b.find("#"+p).prev().attr("id",p+"-question-number");b.find("#"+p).next().attr("id",p+"-text-result").appendTo(a("#res-"+p));b.find("#"+p).before('<div class="clear"></div><div id="bar-'+p+'"></div>');b.find("#"+p).remove();b.find("#"+p+"-question-number").css("cssText",g+"float:left !important;").after('<div id="'+p+'" class="poll_bar_booroo'+surveyid+'"></div>');b.find("#"+p).css("cssText","float:left !important;height:10px !important;"+q+l).appendTo(b.find("#bar-"+p));b.find("#"+p+"-text-result").appendTo(b.find("#bar-"+p)).css("cssText",h+"float:left !important;")}}b.find(".results_booroo .results_booroo .booroo_footer").css("cssText","float:left !important; clear: both !important;");b.find(".results_booroo").appendTo(a(".pollpreview_booroo"+surveyid).find(".content_booroo")).after('<div class="clear"></div>');b.find("#submit_booroo .qbutton_booroo"+surveyid).appendTo(b.find("#submit_booroo").prev());var s=b.find("#ans-other"),t=b.find("#ans-radio-other");if(s.length||t.length){var u=b.find(".items_booroo"),v;if(s.length){v=s}else if(t.length){v=t}var x=Math.round(e.defaultpage.bg_width*.91),A=Math.round(e.defaultpage.bg_width*.04);ans_other_css="float:left !important;clear:both !important;"+"width:"+x+"px !important;cursor: text !important;"+"background-color:white !important;padding:"+A+"px !important;"+f+"margin:1% 0 !important;";v.appendTo(u);a(".qbutton_booroo"+surveyid).appendTo(u);u.next().remove();v.css("cssText",ans_other_css)}var B=b.find("#submit_booroo");b.find(".qbutton_booroo"+surveyid).before('<div class="clear"></div>').appendTo(B);B.append('<div class="clear"></div>').css({position:"relative",width:e.defaultpage.bg_width+"px"});b.find(a(".clear")).css("cssText","clear:both !important;");b.find(".content_booroo").css("cssText","position:relative !important;");if(a("#thank_you",c).length&&a(".qviewa_booroo"+surveyid,c).length){a(".qviewa_booroo"+surveyid,c).remove()}w(e)}function w(b){var d=b.alabel.font_size,e=b.alabel.font_family,f=t("pquestion",b["pquestion"]),g=b.pquestion.font_color,h;h="float:left!important;height:auto!important;"+"width:100% !important;padding:1% 0 !important;"+"font-family:"+e+"!important;"+"font-size:"+d+"px !important;"+"font-weight:bold !important;text-align:center !important;color:#"+g+" !important;"+"margin:10px 0 0 0 !important;"+f;a(".footer_hyperlink",c).css("cssText",h)}function x(b,c){if(b=="defaultpage"){var d="position: absolute !important;z-index:-1 !important;";var e="background-image: url("+c.background_image_url+") !important;";if(c.background_image_style=="Stretched"||c.background_image_style=="Center"){a("body").prepend("<div>"+'<img id="background_image" src="'+c.background_image_url+'"></img> '+"</div>");if(c.background_image_style=="Stretched"){d+="background-repeat: no-repeat !important;width:100% !important; height:100% !important;top:0 !important;left: 0 !important;"}else{var f=parseFloat(a(window).height()/2-c.background_image_height/2)/a(window).height()*100+"%";var g=parseFloat(a(window).width()/2-c.background_image_width/2)/a(window).width()*100+"%";d+="background-repeat: no-repeat !important;background-position:center !important;";d+="top:"+f+" !important;"+"left:"+g+" !important;"}a("#background_image").css("cssText",d)}else{if(c.background_image_style=="Tiled"){e+="background-repeat: repeat !important;"}return e}}}function y(a,b){var c="padding:"+b.padding_t+"px "+b.padding_r+"px "+b.padding_b+"px "+b.padding_l+"px "+"!important;";return c}function z(a,b){var c="margin:"+b.margin_t+"px "+b.margin_r+"px "+b.margin_b+"px "+b.margin_l+"px "+"!important;";return c}function A(a,b){var c=b.shadow_x+"px "+b.shadow_y+"px "+b.shadow_blur+"px "+b.shadow_size+"px #"+b.shadow_color+" "+b.shadow_style+"!important;";var d="-moz-box-shadow:"+c+"-webkit-box-shadow:"+c+"box-shadow:"+c;return d}function B(a,b){var c="border-color: #"+b.border_color+" !important;"+"border-style:"+b.border_style+" !important;";if(b.border_pref==0){if(q()){c+="border-width:"+b.border_size+"px !important;"}else{c+="border-width:"+b.border_size+"px !important;"+"-moz-border-radius:"+b.border_radius+"px !important;"+"-webkit-border-radius:"+b.border_radius+"px !important;"+"border-radius:"+b.border_radius+"px !important;"}}else{var d=b.border_radius_t+"px "+b.border_radius_r+"px "+b.border_radius_b+"px "+b.border_radius_l+"px !important;";c+="border-width:"+b.border_size_t+"px "+b.border_size_r+"px "+b.border_size_b+"px "+b.border_size_l+"px !important;";if(q()==false){c+="-moz-border-radius:"+d+"-webkit-border-radius:"+d+"border-radius:"+d}}return c}function C(a,b){var c="font-family:"+b.font_family+" !important;"+"font-size:"+b.font_size+"px !important;"+"font-weight:"+b.font_bold+" !important;"+"font-style:"+b.font_italic+" !important;"+"color: #"+b.font_color+" !important;"+"text-decoration:"+b.font_underline+" !important;";return c}function D(a,b){var c;if(jsonThemeString[a].text_shadow==0){c="text-shadow:none !important;"}else{c="text-shadow:"+b.text_shadow_h+"px "+b.text_shadow_v+"px "+b.text_shadow_blur+"px #"+b.text_shadow_color+"!important;"}return c}jQuery_booroo.setPageBackground=function(){var b=a(".poll_booroo"+surveyid).outerWidth(true),c=a(".poll_booroo"+surveyid).outerHeight(true),d=a(window).width(),e=a(window).height(),f=jsonThemeString.defaultpage.poll_position;if(f==2||f==5||f==8){var g="left:"+parseFloat(d/2-b/2)/d*100+"% !important;"}else if(f==1||f==4||f==7){var g="left: 2% !important;"}else if(f==3||f==6||f==9){var g="right: 2% !important;"}if(f==1||f==2||f==3){var h="top: 2% !important;"}else if(f==4||f==5||f==6){var h="top:"+parseFloat(e/3/10)+"%"}else if(f==7||f==8||f==9){var h="bottom: 1% !important;"}a("#booroo_poll_container"+surveyid).css("cssText","position:absolute;"+g+h);a.each(jsonThemeString,function(b){var c="";if(b=="defaultpage"){var d=jsonThemeString[b];if(s(d.bg_color_start)){var e=t(b,d);c+=e}if(s(d.background_image_url)&&d.background_image_url!=""){var e=x(b,d);c+=e}if(typeof videoURL!="undefined"){var f="http://www.youtube.com/watch?v="+videoURL;if(E(f)){F(videoURL)}}a("body").css("cssText",c)}});a("html").css("cssText","height: "+a(document).height()+"px !important;overflow-y: scroll !important;")};function E(a){var b=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;var c=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i;var d=a.match(b);if(d&&d[7].length==11){return d[7]}else if(a.match(c)){a=a.split("embed/")[1].split("frameborder")[0].replace('"',"").replace(/ /g,"");return a}else{return false}}function F(b){a.getScript("../Scripts/jquery.tubular.js",function(){a("body").tubular(b,"booroo_poll_container"+surveyid)})}function G(b){var c="http://www.youtube.com/watch?="+b;if(E(c)){var d=a(".pollpreview_booroo"+surveyid).width(),e=H(b,d);youtube_height=d*.63;return[e,d,youtube_height]}else{return[false]}}function H(a,b){var c=a,d=b,e=parseInt(d*.63,10),f='<iframe class="youtubeembed" width="'+d+'" height="'+e+'" src="http://www.youtube.com/embed/'+c+'" frameborder="0" allowfullscreen></iframe>';return f}function I(a){var b,c,d;if(a.length==6){b=parseInt(a.substring(0,2),16);c=parseInt(a.substring(2,4),16);d=parseInt(a.substring(4,6),16)}else if(a.length==3){b=parseInt(a.substring(0,1)+a.substring(0,1),16);c=parseInt(a.substring(1,2)+a.substring(1,2),16);d=parseInt(a.substring(2,3)+a.substring(2,3),16)}return{r:b,g:c,b:d}}})(jQuery_booroo);
//# sourceMappingURL=poll-min.js.map
